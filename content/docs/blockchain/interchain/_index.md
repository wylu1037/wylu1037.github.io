---
title: 跨链
date: 2024-04-02T16:02:23+08:00
---

- [Cosmos](https://cosmos.network/)
- [BitXHub](https://bitxhub.cn/)
- [WeCross](https://wecross.readthedocs.io/zh-cn/latest/)

## 跨链技术方案

- 公证人机制
- 哈希时间锁定机制
- 分布式私钥控制技术

### 公证人机制

> 中间人机制即为一个团体或一组团体同意原子性地执行链 A 上账户数字资产的减少以及链 B 上接收账户数字资产的增多,此团体是 A 与 B 信任的

通过选举一个或多个组织作为公证人,对链 A 的事件进行自动或请求式监听,并在指定事件发生后,在链 B 执行相应动作,实现对事件的响应

{{< image "/images/docs/blockchain/interchain/公证人机制跨链.jpeg" "公证人" >}}

### 侧链/中继

{{< callout >}}

- 侧链机制: 即某链可以验证和读取另一条链上所发生事务的事件。
- 侧链中继机制为中继链，其不仅作为应用链的侧链，还负责跨链消息的验证与转发。

{{< /callout >}}

以轻客户端验证技术为基础,即:在链 B 上执行类似区块链轻客户端功能的智能合约,通过验证链 A 的加密哈希树(cryptographic hash tree)以及区块头(block header)来验证链 A 的某项特定交易、事件或状态信息是否发生。侧链模式中有两种模式可以充当连接方,分别是 {{< font "blue" "托管模式">}} 和 {{< font "blue" "SPV 模式">}}。

- 托管模式：是一个由可信任的第三方机构来锁定、监管双方资产的模式
- SPV 模式：是一种用于证明交易存在的方法，通过少量数据就可以验证某个特定区块中交易是否存在（默克尔树）

{{< image "/images/docs/blockchain/interchain/侧链:中继跨链.jpeg" "侧链/中继链" >}}

### 哈希时间锁定合约

{{< callout >}}

- 代表作：闪电网络中的 <u>**哈希时间锁定合约**</u>；
- 哈希时间锁定机制的核心思想：在规定时间内提供与哈希值对应的原内容解冻资产；

{{< /callout >}}

通过在两条链上运行特定的智能合约，实现跨链交易与信息交互。用户 A 生成随机数 s，并计算出该随机数的哈希值 h=hash(s)发送给用户 B；A 和 B 通过智能合约先后锁定各自的资产；如果 B 在 X 时间内收到正确的 s，智能合约自动执行将 B 的资产将转移给 A，否则退回给 B；如果 A 在 2X 时间内收到随机数 s，A 的资产将自动转移给 B,否则退回给 A。

{{< image "/images/docs/blockchain/interchain/哈希锁定跨链.jpeg" "哈希时间锁定合约" >}}

### 分布式私钥控制技术

{{< callout >}}

分布式私钥控制技术中的私钥由用户与去中心化网络共同管理，跨链时锁定原链资产，在目的链上发起智能合约，创建新的资产。

{{< /callout >}}

顾名思义，就是采用分布式节点来控制区块链系统中各种资产的私钥，将数字资产的使用权和所有权进行分离，使得对链上资产的控制权能安全地转移到非中心化系统中，同时将原链上的资产映射到跨链中，实现不同区块链系统间的资产流通和价值转移。

主要场景是：当一种已注册资产由原有链转移到跨链上时，跨链节点会为用户在已有合约中发放相应等值代币，确保了原有链资产在跨链上仍然可以相互交易流通。以 Fusion 为例：

{{< image "/images/docs/blockchain/interchain/分布式私钥控制技术.jpeg" "分布式私钥控制技术" >}}

{{< steps >}}

<h5></h5>
用户首先向 Fusion 发出锁定资产的请求
<h5></h5>
Fusion 根据用户请求生成分布式密钥和锁定（Lock-in）资产的地址。
<h5></h5>
Fusion 将生成的 Lock-in 地址发送给用户，用户便可将资产转入地址中。
<h5></h5>
Fusion 锁定地址和对应的密钥并更新验证用户的资产。

{{< /steps>}}
